var _0x0382 = ['push', 'EliminarCamposCrononograma', 'splice', '¿Esta\x20seguro\x20de\x20eliminar\x20la\x20ultima\x20actividad?', '#d33', 'Si,\x20Eliminar', 'btn\x20btn-danger', 'then', 'eliminarItemCronograma', 'IdCronograma', 'success', '#238276', 'Borrado!', 'se\x20borro\x20la\x20ultima\x20actividad', 'salio\x20mal', 'error', 'requestAnimationFrame', 'mozRequestAnimationFrame', 'msRequestAnimationFrame', '.FI', 'datepicker', 'agregarPresupuesto', 'EL\x20maximo\x20de\x20items\x20en\x20el\x20presupuesto\x20es\x20de\x2015', '25%', 'EliminarCamposPresupuesto', 'Item', 'Concepto', 'Descripcion', 'Unidad', 'Cantidad', 'ValorUnitario', 'GuardarCronograma', 'each', 'Actividad', 'FechaInicio', 'FechaFin', 'split', 'parse', 'La\x20fecha\x20inicio\x20número:\x20', '\x20es\x20mayor\x20a\x20la\x20fecha\x20final', '\x20-\x20', 'toString', 'Error\x20fechas', 'La\x20fecha\x20inicio\x20de\x20las\x20posiciones:\x20\x20', '\x20sobrepasan\x20la\x20fecha\x20final.', 'Registro\x20Exitoso', 'removeAttr', 'AbrirProyecto', 'Etapa', 'ConsultarCronograma', 'total', 'CalcularValorTotal', 'ValorTotal', '0.0', 'Iva', 'IvaUtilidad', 'toFixed', 'Subtotal', 'GuardarPresupuesto', 'Presupuesto1', 'Ups!\x20Faltan\x20campos\x20por\x20completar', 'IdPresupuesto', 'EL\x20costo\x20total\x20no\x20puede\x20superar\x20los\x2099.999.999.999\x20millones', 'IdProyecto', 'GuardarAIU', 'url', '/Menu', 'ConsultarPresupuesto', 'ConsultarAIU', 'atras', '.notify', 'controller', '$scope', '$location', 'CronogramaPresupuestoService', '$cookies', '$cookieStore', 'MenuService', '$routeParams', '$sce', '#containerPresupuesto', 'hide', '#btnPresupuesto', 'attr', 'disabled', 'Cronograma', 'proyecto', 'datos', 'Presupuesto', 'AIU', 'PauseAudio', 'getElementById', 'audio-player', 'audio-player1', 'pause', 'MostrarCronograma', '#containerCronograma', 'show', '#audioAyudaOnce', 'css', 'display', 'none', 'MostrarPresupuesto', '#audioAyudaDiez', 'agregarCronograma', 'length', 'EL\x20maximo\x20de\x20actividad\x20es\x20de\x2015', 'warning']; (function (_0x5c7342, _0x17dc6c) { var _0x66db66 = function (_0x52c32b) { while (--_0x52c32b) { _0x5c7342['push'](_0x5c7342['shift']()); } }; _0x66db66(++_0x17dc6c); }(_0x0382, 0x18b)); var _0x2038 = function (_0x476cc2, _0x46d89f) { _0x476cc2 = _0x476cc2 - 0x0; var _0x33ae6b = _0x0382[_0x476cc2]; return _0x33ae6b; }; ManualApp[_0x2038('0x0')]('CronogramaPresupuestoController', [_0x2038('0x1'), '$rootScope', _0x2038('0x2'), _0x2038('0x3'), _0x2038('0x4'), _0x2038('0x5'), _0x2038('0x6'), _0x2038('0x7'), _0x2038('0x8'), function (_0x346936, _0xd8562, _0x2570ba, _0xed614c, _0x459ec6, _0x3c7026, _0x2f73f6, _0x56b398, _0x7bf9a3) { $(_0x2038('0x9'))[_0x2038('0xa')](); $(_0x2038('0xb'))[_0x2038('0xc')](_0x2038('0xd'), _0x2038('0xd')); _0x346936[_0x2038('0xe')] = [{ 'IdProyecto': _0xd8562[_0x2038('0xf')][_0x2038('0x10')]['id'], 'Actividad': '', 'FechaInicio': '', 'FechaFin': '' }]; _0x346936[_0x2038('0x11')] = [{ 'IdProyecto': _0xd8562['proyecto']['datos']['id'], 'Item': '', 'Concepto': '', 'Descripcion': '', 'Unidad': '', 'Cantidad': '', 'ValorUnitario': '', 'ValorTotal': '' }]; _0x346936[_0x2038('0x12')] = { 'A': '', 'I': '', 'U': '', 'Iva': '', 'ValorTotal': '', 'IdProyecto': '' }; _0x346936[_0x2038('0x13')] = function () { setTimeout(function () { var _0x4a230a = document[_0x2038('0x14')](_0x2038('0x15')); _0x4a230a['pause'](); }, 0x3e8); setTimeout(function () { var _0x1e5a5d = document[_0x2038('0x14')](_0x2038('0x16')); _0x1e5a5d[_0x2038('0x17')](); }, 0x3e8); }; _0x346936[_0x2038('0x18')] = function () { $(_0x2038('0x19'))[_0x2038('0x1a')](); $(_0x2038('0x9'))[_0x2038('0xa')](); $(_0x2038('0x1b'))[_0x2038('0x1c')](_0x2038('0x1d'), _0x2038('0x1e')); var _0x5bd7b5 = document['getElementById'](_0x2038('0x16')); _0x5bd7b5[_0x2038('0x17')](); }; _0x346936[_0x2038('0x1f')] = function () { $(_0x2038('0x19'))[_0x2038('0xa')](); $('#containerPresupuesto')[_0x2038('0x1a')](); $(_0x2038('0x20'))['css'](_0x2038('0x1d'), _0x2038('0x1e')); var _0x158c9f = document[_0x2038('0x14')](_0x2038('0x15')); _0x158c9f[_0x2038('0x17')](); }; _0x346936[_0x2038('0x21')] = function (_0x4fca3b) { if (_0x346936['Cronograma'][_0x2038('0x22')] >= 0xf) { swal({ 'text': _0x2038('0x23'), 'type': _0x2038('0x24'), 'confirmButtonColor': '#238276', 'width': '25%', 'allowOutsideClick': ![] }); return ![]; } _0x346936[_0x2038('0xe')][_0x2038('0x25')]({ 'IdProyecto': _0xd8562[_0x2038('0xf')][_0x2038('0x10')]['id'], 'Actividad': '', 'FechaInicio': '', 'FechaFin': '' }); }; _0x346936[_0x2038('0x26')] = function () { if (_0x346936[_0x2038('0xe')][_0x2038('0x22')] > 0x1) { console['log'](_0x346936['Cronograma']); if (_0x346936['Cronograma'][_0x346936['Cronograma'][_0x2038('0x22')] - 0x1]['IdCronograma'] == undefined) { _0x346936[_0x2038('0xe')][_0x2038('0x27')](_0x346936[_0x2038('0xe')][_0x2038('0x22')] - 0x1, 0x1); } else { swal({ 'title': '¿Esta\x20seguro?', 'text': _0x2038('0x28'), 'type': 'warning', 'showCancelButton': !![], 'confirmButtonColor': '#238276', 'cancelButtonColor': _0x2038('0x29'), 'confirmButtonText': _0x2038('0x2a'), 'cancelButtonText': 'No,\x20Cancelar!', 'confirmButtonClass': 'btn\x20btn-success', 'cancelButtonClass': _0x2038('0x2b') })[_0x2038('0x2c')](function () { _0xed614c[_0x2038('0x2d')](_0x346936['Cronograma'][_0x346936[_0x2038('0xe')]['length'] - 0x1][_0x2038('0x2e')], function (_0x1641aa) { if (_0x1641aa[_0x2038('0x2f')]) { swal({ 'confirmButtonColor': _0x2038('0x30'), 'title': _0x2038('0x31'), 'text': _0x2038('0x32'), 'type': _0x2038('0x2f') })[_0x2038('0x2c')](function () { }); _0x346936['Cronograma'][_0x2038('0x27')](_0x346936[_0x2038('0xe')][_0x2038('0x22')] - 0x1, 0x1); } else { alert(_0x2038('0x33')); } }); }), function (_0x10339e) { if (_0x10339e === 'cancel') { swal({ 'confirmButtonColor': _0x2038('0x30'), 'title': 'Eliminado', 'text': 'El\x20proyecto\x20ha\x20sido\x20eliminado!', 'type': _0x2038('0x34') }); } }; } } }; var _0x9987c7 = window[_0x2038('0x35')] || window[_0x2038('0x36')] || window['webkitRequestAnimationFrame'] || window[_0x2038('0x37')]; function _0x3ffdeb() { $(_0x2038('0x38'))['datepicker']({ 'language': 'es', 'autoclose': !![] }); $('.FE')[_0x2038('0x39')]({ 'language': 'es', 'autoclose': !![] }); _0x9987c7(_0x3ffdeb); } _0x9987c7(_0x3ffdeb); _0x346936[_0x2038('0x3a')] = function () { if (_0x346936[_0x2038('0x11')][_0x2038('0x22')] >= 0xe) { swal({ 'text': _0x2038('0x3b'), 'type': _0x2038('0x24'), 'confirmButtonColor': _0x2038('0x30'), 'width': _0x2038('0x3c'), 'allowOutsideClick': ![] }); return ![]; } _0x346936['Presupuesto'][_0x2038('0x25')]({ 'IdProyecto': _0xd8562[_0x2038('0xf')][_0x2038('0x10')]['id'], 'Item': '', 'Concepto': '', 'Descripcion': '', 'Unidad': '', 'Cantidad': '', 'ValorUnitario': '', 'ValorTotal': '' }); }; _0x346936[_0x2038('0x3d')] = function () { if (_0x346936[_0x2038('0x11')][_0x346936[_0x2038('0x11')][_0x2038('0x22')] - 0x1][_0x2038('0x3e')] == '' && _0x346936['Presupuesto'][_0x346936['Presupuesto'][_0x2038('0x22')] - 0x1][_0x2038('0x3f')] == '' && _0x346936[_0x2038('0x11')][_0x346936[_0x2038('0x11')][_0x2038('0x22')] - 0x1][_0x2038('0x40')] == '' && _0x346936[_0x2038('0x11')][_0x346936[_0x2038('0x11')]['length'] - 0x1][_0x2038('0x41')] == '' && _0x346936[_0x2038('0x11')][_0x346936['Presupuesto']['length'] - 0x1][_0x2038('0x42')] == '' && _0x346936['Presupuesto'][_0x346936[_0x2038('0x11')][_0x2038('0x22')] - 0x1][_0x2038('0x43')] == '' && _0x346936[_0x2038('0x11')][_0x346936[_0x2038('0x11')][_0x2038('0x22')] - 0x1]['ValorTotal'] == '') { if (_0x346936['Presupuesto'][_0x2038('0x22')] > 0x1) { _0x346936[_0x2038('0x11')]['splice'](_0x346936[_0x2038('0x11')][_0x2038('0x22')] - 0x1, 0x1); } } }; _0x346936[_0x2038('0x44')] = function () { var _0x30095c = 0x0; var _0x2226a5 = ''; var _0x654c02 = ''; $[_0x2038('0x45')](_0x346936[_0x2038('0xe')], function (_0x22f4b7, _0x7f7f5c) { _0x2226a5 += _0x7f7f5c[_0x2038('0x46')]; if (_0x7f7f5c[_0x2038('0x46')] == '' || _0x7f7f5c[_0x2038('0x47')] == '' || _0x7f7f5c[_0x2038('0x48')] == '') { _0x30095c++; } else { var _0x1954cb = _0x7f7f5c[_0x2038('0x47')]['split']('/'); var _0x2f046b = _0x7f7f5c[_0x2038('0x48')][_0x2038('0x49')]('/'); var _0x31ab02 = _0x1954cb[0x1] + '-' + _0x1954cb[0x2] + '-' + _0x1954cb[0x0]; var _0x3198b1 = _0x2f046b[0x1] + '-' + _0x2f046b[0x2] + '-' + _0x2f046b[0x0]; if (Date[_0x2038('0x4a')](_0x31ab02) > Date['parse'](_0x3198b1)) { swal({ 'text': _0x2038('0x4b') + (_0x22f4b7 + 0x1) + _0x2038('0x4c'), 'confirmButtonColor': _0x2038('0x30'), 'width': _0x2038('0x3c'), 'allowOutsideClick': ![] }); _0x654c02 += _0x2038('0x4d') + (_0x22f4b7 + 0x1)[_0x2038('0x4e')]() + '\x0a'; } } }); if (_0x30095c == 0x0) { if (_0x654c02 != '') { swal({ 'title': _0x2038('0x4f'), 'text': _0x2038('0x50') + _0x654c02 + _0x2038('0x51'), 'confirmButtonColor': _0x2038('0x30'), 'width': _0x2038('0x3c'), 'allowOutsideClick': ![] }); return ![]; } _0xed614c[_0x2038('0x44')](_0x346936[_0x2038('0xe')], function (_0x7820c3) { if (_0x7820c3[_0x2038('0x2f')]) { swal({ 'text': _0x2038('0x52'), 'confirmButtonColor': _0x2038('0x30'), 'width': _0x2038('0x3c') }); $(_0x2038('0xb'))[_0x2038('0x53')](_0x2038('0xd'), _0x2038('0xd')); $('#containerPresupuesto')['show'](); $(_0x2038('0x19'))[_0x2038('0xa')](); } }); } else { alertify[_0x2038('0x2f')]('Ups!\x20Faltan\x20campos\x20por\x20completar'); return; } }; _0xed614c[_0x2038('0x54')](_0xd8562['proyecto'][_0x2038('0x10')]['id'], function (_0x30e941) { waitingDialog[_0x2038('0x1a')](); if (_0x30e941[_0x2038('0x2f')]) { _0xd8562[_0x2038('0xf')][_0x2038('0x10')]['Etapa'] = _0x30e941['proyecto']['Etapa']; if (_0xd8562[_0x2038('0xf')]['datos'][_0x2038('0x55')] >= 0x9) { $(_0x2038('0xb'))[_0x2038('0x53')](_0x2038('0xd'), _0x2038('0xd')); _0xed614c[_0x2038('0x56')](_0xd8562[_0x2038('0xf')]['datos']['id'], function (_0x592fa0) { if (_0x592fa0[_0x2038('0x2f')]) { _0x346936[_0x2038('0xe')] = _0x592fa0[_0x2038('0xe')]; console['log'](_0x346936[_0x2038('0xe')]); } }); } waitingDialog[_0x2038('0xa')](); } }); _0x346936[_0x2038('0x57')] = 0x0; _0x346936[_0x2038('0x58')] = function () { _0x346936[_0x2038('0x57')] = 0x0; $[_0x2038('0x45')](_0x346936[_0x2038('0x11')], function (_0x5b79a9, _0x1f6817) { _0x1f6817[_0x2038('0x59')] = _0x1f6817[_0x2038('0x42')] * _0x1f6817[_0x2038('0x43')]; _0x346936[_0x2038('0x57')] = _0x1f6817[_0x2038('0x59')] + _0x346936['total']; }); var _0x2b5785 = 0x1; var _0x2ccce2 = 0x1; var _0x273d84 = 0x1; var _0x1d0dde = 0x1; var _0x2a4b85 = 0x1; var _0x4d60e1 = 0x1; if (parseFloat(_0x346936[_0x2038('0x12')]['A']) < 0xa) { _0x2ccce2 = _0x2038('0x5a') + _0x346936[_0x2038('0x12')]['A']; _0x1d0dde = parseFloat(_0x2ccce2) * _0x346936['total']; } else { _0x2ccce2 = '0.' + _0x346936[_0x2038('0x12')]['A']; _0x1d0dde = parseFloat(_0x2ccce2) * _0x346936[_0x2038('0x57')]; } if (parseFloat(_0x346936[_0x2038('0x12')]['I']) < 0xa) { _0x273d84 = '0.0' + _0x346936[_0x2038('0x12')]['I']; _0x4d60e1 = parseFloat(_0x273d84) * _0x346936['total']; } else { _0x273d84 = '0.' + _0x346936[_0x2038('0x12')]['I']; _0x4d60e1 = parseFloat(_0x273d84) * _0x346936[_0x2038('0x57')]; } if (parseFloat(_0x346936[_0x2038('0x12')]['U']) < 0xa) { _0x2b5785 = _0x2038('0x5a') + _0x346936[_0x2038('0x12')]['U']; _0x2a4b85 = parseFloat(_0x2b5785) * _0x346936[_0x2038('0x57')]; } else { _0x2b5785 = '0.' + _0x346936[_0x2038('0x12')]['U']; _0x2a4b85 = parseFloat(_0x2b5785) * _0x346936['total']; } if (parseFloat(_0x346936[_0x2038('0x12')][_0x2038('0x5b')]) < 0xa) { ivaString = _0x2038('0x5a') + _0x346936['AIU'][_0x2038('0x5b')]; iva = parseFloat(ivaString) * _0x2a4b85; _0x346936['IvaUtilidad'] = iva; if (_0x346936[_0x2038('0x5c')] == 0x0) { _0x346936[_0x2038('0x12')][_0x2038('0x5b')] = ''; } else { _0x346936[_0x2038('0x5c')] = iva; } } else { ivaString = '0.' + _0x346936[_0x2038('0x12')][_0x2038('0x5b')]; iva = parseFloat(ivaString) * _0x2a4b85; _0x346936[_0x2038('0x5c')] = iva; if (_0x346936['IvaUtilidad'] == 0x0) { _0x346936[_0x2038('0x12')][_0x2038('0x5b')] = ''; } else { _0x346936[_0x2038('0x5c')] = iva; } } _0x346936['A'] = _0x1d0dde[_0x2038('0x5d')](0x2); _0x346936['I'] = _0x4d60e1['toFixed'](0x2); _0x346936['U'] = _0x2a4b85[_0x2038('0x5d')](0x2); _0x346936[_0x2038('0x5e')] = _0x346936[_0x2038('0x57')][_0x2038('0x5d')](0x2); _0x346936['total'] = (_0x346936[_0x2038('0x57')] + _0x1d0dde + _0x4d60e1 + _0x2a4b85)['toFixed'](0x2); }; _0x346936[_0x2038('0x5f')] = function () { _0x346936[_0x2038('0x60')] = []; var _0x14e0b8 = 0x0; $['each'](_0x346936[_0x2038('0x11')], function (_0x51b35a, _0x245660) { if (_0x245660['Item'] == '' || _0x245660[_0x2038('0x3f')] == '' || _0x245660[_0x2038('0x40')] == '' || _0x245660[_0x2038('0x41')] == '') { alertify['success'](_0x2038('0x61')); _0x14e0b8++; } _0x346936[_0x2038('0x60')][_0x2038('0x25')]({ 'IdProyecto': _0xd8562[_0x2038('0xf')][_0x2038('0x10')]['id'], 'IdPresupuesto': _0x245660[_0x2038('0x62')], 'Item': _0x245660[_0x2038('0x3e')], 'Concepto': _0x245660[_0x2038('0x3f')], 'Descripcion': _0x245660['Descripcion'], 'Unidad': _0x245660['Unidad'], 'Cantidad': _0x245660[_0x2038('0x42')], 'ValorUnitario': _0x245660[_0x2038('0x43')] }); }); if (_0x14e0b8 == 0x0) { if (_0x346936[_0x2038('0x57')] > 0x174876e7ff) { swal({ 'text': _0x2038('0x63'), 'confirmButtonColor': '#238276', 'width': _0x2038('0x3c') }); return ![]; } _0xed614c[_0x2038('0x5f')](_0x346936['Presupuesto1'], function (_0x367c64) { if (_0x367c64['success']) { _0x346936[_0x2038('0x12')][_0x2038('0x59')] = _0x346936[_0x2038('0x57')]; _0x346936[_0x2038('0x12')][_0x2038('0x64')] = _0xd8562[_0x2038('0xf')]['datos']['id']; _0xed614c[_0x2038('0x65')](_0x346936[_0x2038('0x12')], function (_0x14da69) { if (_0x14da69[_0x2038('0x2f')]) { swal({ 'text': 'Registro\x20Exitoso', 'confirmButtonColor': _0x2038('0x30'), 'width': _0x2038('0x3c') }); _0x2570ba[_0x2038('0x66')](_0x2038('0x67')); } }); } }); } }; _0xed614c[_0x2038('0x54')](_0xd8562[_0x2038('0xf')][_0x2038('0x10')]['id'], function (_0x4d52eb) { if (_0x4d52eb['success']) { waitingDialog[_0x2038('0x1a')](); _0xd8562[_0x2038('0xf')][_0x2038('0x10')][_0x2038('0x55')] = _0x4d52eb[_0x2038('0xf')]['Etapa']; if (_0xd8562['proyecto'][_0x2038('0x10')][_0x2038('0x55')] >= 0xa) { _0xed614c[_0x2038('0x68')](_0xd8562[_0x2038('0xf')][_0x2038('0x10')]['id'], function (_0x366bd2) { if (_0x366bd2['success']) { _0x346936['total'] = 0x0; _0x346936[_0x2038('0x11')] = _0x366bd2[_0x2038('0x11')]; $[_0x2038('0x45')](_0x346936[_0x2038('0x11')], function (_0x445eda, _0x147eb0) { _0x147eb0[_0x2038('0x59')] = _0x147eb0[_0x2038('0x42')] * _0x147eb0[_0x2038('0x43')]; _0x346936[_0x2038('0x57')] = _0x147eb0[_0x2038('0x59')] + _0x346936[_0x2038('0x57')]; _0x346936[_0x2038('0x11')][_0x445eda][_0x2038('0x3e')] = parseFloat(_0x147eb0[_0x2038('0x3e')]); }); _0xed614c[_0x2038('0x69')](_0xd8562[_0x2038('0xf')][_0x2038('0x10')]['id'], function (_0x35bcb2) { if (_0x35bcb2[_0x2038('0x2f')]) { _0x346936[_0x2038('0x12')] = _0x35bcb2[_0x2038('0x12')]; _0x346936[_0x2038('0x58')](); } }); } waitingDialog[_0x2038('0xa')](); }); } waitingDialog[_0x2038('0xa')](); } }); _0x346936[_0x2038('0x6a')] = function () { _0x2570ba[_0x2038('0x66')](_0x2038('0x67')); $(_0x2038('0x6b'))[_0x2038('0xa')](); }; }]);

